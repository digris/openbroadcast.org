///////////////////////////////////////////////////////////////////////
// ng-search app - serves as a replacement for 'search' once
// completed
///////////////////////////////////////////////////////////////////////


$search-inner-border-color: #eaeaea

$search-outer-width: 480px
$search-margin-left: 30px // offset for icon
$search-inner-width: $search-outer-width - $search-margin-left


%search-result-item
  display: flex
  padding: 8px 8px
  margin: 0 0 0
  border-bottom: 1px solid $search-inner-border-color
  border-top: none
  background: white

  &.top-hit
    background: rgba($primary-color-b-bg-light, .2)
    .title
      font-weight: bold

  &.active,
  &:hover
    background: $primary-color-a-bg-light

  .controls

    &.controls-image
      figure
        background: $search-inner-border-color
        margin: 0
        padding: 0
        img
          width: 60px
          height: 60px

    &.controls-meta
      flex-grow: 1
      padding: 0 8px




.search-app

  margin-top: 100px
  z-index: 9999


  &.active
    .search-input,
    .search-display-wrapper
      box-shadow: 1px 2px 3px 1px rgba(0, 0, 0, 0.25)

  .search-input-container
    //background: white
    //box-shadow: 1px 2px 3px 1px rgba(0, 0, 0, 0.25)

    display: flex

    .search-input-icon
      width: $search-margin-left

    .search-input

      width: $search-inner-width - 4px
      background: $white
      border: 2px solid $white
      //box-shadow: 1px 2px 3px 1px rgba(0, 0, 0, 0.25)

      input
        //background: black
        background: rgba(0, 0, 0, 0.8)
        //width: 350px
        width: $search-inner-width - 4px - 10px
        height: 27px
        padding: 2px 5px
        border: none
        color: $white
        //text-transform: uppercase
        //background-color: rgba(255, 255, 255, 0.3)
        //background: transparent

        &::placeholder
          color: rgba(255, 255, 255, 0.75)

        &:focus::placeholder
          color: rgba(255, 255, 255, 0.25)



  .search-display-wrapper
    background: white
    //box-shadow: 1px 2px 3px 1px rgba(0, 0, 0, 0.25)
    position: absolute
    width: $search-inner-width
    margin-left: $search-margin-left

  .search-options-container
    display: none
    &.expanded
      display: block

  .search-settings-container
    padding: 8px
    background: white
    border-bottom: 1px solid $search-inner-border-color
    //border-top: none

    .setting
      cursor: pointer

    //  i
    //    font-size: 20px


  .search-scope-container
    padding: 8px
    background: white
    border-bottom: 1px solid $search-inner-border-color
    //border-top: none
    .scopes
      display: flex

      .scope-label
        padding: 2px 0

      .scope
        margin: 0 2px 0 0
        padding: 2px 10px
        background: #e8e8e8
        a
          text-decoration: none
        &.selected
          background: $primary-color-b
          a
            color: $white


  .search-result-container
    display: none
    //position: absolute
    //width: 100%
    //border: 1px solid $search-inner-border-color

    &.expanded
      display: block

    .search-result
      @extend %search-result-item


    //.search-result.active
    //  background: yellow

